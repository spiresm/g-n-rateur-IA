<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>G√©n√©rateur Premium IA</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css">
</head>

<body>
<div class="app-shell">

    <header>
        <div class="title-group">
            <h1>G√©n√©rateur IA Premium</h1>
            <div class="title-chip">
                <span></span>
                Interface Luxe ‚Ä¢ Mode Avanc√©
            </div>
        </div>

        <div class="gpu-card" id="gpu-card">
            <div class="gpu-main">
                <span class="gpu-label">GPU</span>
                <strong id="gpu-name">‚Äì</strong>
                <div class="gpu-pills">
                    <div class="gpu-pill"><span id="gpu-util">0%</span> ‚Ä¢ Utilisation</div>
                    <div class="gpu-pill"><span id="gpu-mem">0 / 0 Go</span></div>
                </div>
            </div>
            <div class="gpu-status-indicator">
                <div class="gpu-dot"></div>
                <div class="gpu-value" id="gpu-temp">‚Äì ¬∞C</div>
            </div>
        </div>
    </header>

    <div class="layout">
        <div class="panel">
            <div class="panel-subtitle">‚ú® Mon prompt cr√©atif</div>
            
            <textarea id="prompt-input" class="ui-input" placeholder="D√©crivez l'image que vous souhaitez g√©n√©rer..." style="min-height: 150px;"></textarea>

            <form id="generation-form" onsubmit="event.preventDefault(); startGeneration();">
                <div class="panel-subtitle" style="margin-top: 20px;">‚öôÔ∏è Param√®tres avanc√©s</div>
                <div class="settings-grid">
                    <div>
                        <label for="workflow-select">Workflow</label>
                        <select id="workflow-select" class="ui-input">
                            </select>
                    </div>
                    <div>
                        <label for="sampler">Sampler</label>
                        <select id="sampler" class="ui-input">
                            <option value="res_multistep" selected>res_multistep (Turbo)</option>
                            <option value="dpmpp_2m_sde">dpmpp_2m_sde</option>
                            <option value="euler">euler</option>
                        </select>
                    </div>
                    <div>
                        <label for="seed-input">Seed</label>
                        <input type="number" id="seed-input" class="ui-input" value="-1" min="-1" max="99999999999">
                    </div>
                </div>

                <div class="slider-group">
                    <label for="steps-slider">√âtapes (Steps): <span id="steps-value">9</span></label>
                    <input type="range" id="steps-slider" min="1" max="60" value="9" class="ui-slider">
                </div>
                <div class="slider-group">
                    <label for="cfg_scale-slider">CFG Scale: <span id="cfg_scale-value">1.0</span></label>
                    <input type="range" id="cfg_scale-slider" min="0.1" max="30" step="0.1" value="1.0" class="ui-slider">
                </div>

                <div class="panel-subtitle">üìê Dimensions</div>
                <div class="dimensions-grid">
                    <div>
                        <label for="width-input">Largeur (px)</label>
                        <input type="number" id="width-input" class="ui-input" value="1024" min="64" max="2048" step="8">
                    </div>
                    <div>
                        <label for="height-input">Hauteur (px)</label>
                        <input type="number" id="height-input" class="ui-input" value="1024" min="64" max="2048" step="8">
                    </div>
                </div>

                <div class="quick-select-format">
                    <div class="format-btn" data-width="1024" data-height="1024" data-format="square">‚ñ° Carr√©</div>
                    <div class="format-btn" data-width="1536" data-height="1024" data-format="landscape">‚ñ¨ Paysage</div>
                </div>

                <div class="action-block">
                    <button type="submit" id="generate-btn" class="btn-primary" form="generation-form">
                        üöÄ Lancer la g√©n√©ration
                    </button>
                    <div id="error-box" class="error-text" style="display:none;"></div>
                </div>
            </form>

        </div>

        <div class="panel panel-result">
            <div id="result-area">
                <div id="progress-overlay">
                    <div id="progress-spinner"></div>
                    <div id="progress-meta">
                        <span id="progress-label">En attente‚Ä¶</span>
                        <span id="progress-percent">0%</span>
                    </div>

                    <div class="progress-bar-large">
                        <div class="progress-inner-large" id="progress-inner"></div>
                    </div>
                </div>

                <div id="result-placeholder">
                    <img id="result-image" src="" alt="Image g√©n√©r√©e" style="display: none; width: 100%; height: auto; border-radius: 8px;" />
                    <p id="placeholder-text">Aucune image encore g√©n√©r√©e.</p>
                </div>
            </div>

            <div class="panel-subtitle">üéØ Prompt g√©n√©r√©</div>
            <textarea id="prompt" class="ui-input" style="min-height:130px;" readonly></textarea>
            
            <div class="panel-subtitle">üìä Param√®tres finaux</div>
            <div id="metadata-display" class="metadata-grid">
                <span title="Seed">Seed: <strong id="meta-seed">‚Äì</strong></span>
                <span title="Steps">Steps: <strong id="meta-steps">‚Äì</strong></span>
                <span title="CFG Scale">CFG: <strong id="meta-cfg">‚Äì</strong></span>
                <span title="Sampler">Sampler: <strong id="meta-sampler">‚Äì</strong></span>
            </div>


            <div class="panel-subtitle">üìú Console</div>
            <div id="log-box" class="log-box"></div> 

            <div id="result-footer" style="margin-top: 18px;">
                <button type="button" id="copy-params-btn" class="btn-secondary">
                    üìã Copier les param√®tres
                </button>
            </div>

        </div>
    </div>


    <div id="image-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close-btn">&times;</span>
            <img id="modal-image" src="" alt="Image HD">
            <a id="modal-download-link" href="#" download class="btn-secondary" style="margin-top: 20px;">
                T√©l√©charger (Nom du fichier)
            </a>
        </div>
    </div>

    <script src="script.js"></script>
    
</div>
</body>
</html>
