<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>AI Content Generator</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app-shell">

    <header>
        <div class="auth-controls" style="margin-right: 20px;">
            <a href="https://g-n-rateur-backend-1.onrender.com/auth/google" id="login-link" class="btn-link" style="text-decoration: none;">
                <button class="btn-primary">
                    Se connecter
                </button>
            </a>
            
            <button id="logout-button" class="btn-secondary" style="display: none;">
                D√©connexion
            </button>
        </div>

        <div class="title-group">
            <h1>AI Content Generator</h1>
            <div class="title-chip">
                <span></span>
                <div>Bridge Workflow ‚Ä¢ Live Preview</div>
            </div>
        </div>

        <div class="gpu-card" id="gpu-card">
            <div class="gpu-main">
                <span class="gpu-label">GRAPHICS CARD</span>
                <strong id="gpu-name">‚Äì</strong>
                <div class="gpu-pills">
                    <div class="gpu-pill">
                        <span id="gpu-util">0%</span> ‚Ä¢ Usage
                    </div>
                    <div class="gpu-pill">
                        <span id="gpu-mem">0 / 0 GB</span>
                    </div>
                </div>
            </div>
            <div class="gpu-status-indicator">
                <div class="gpu-dot"></div>
                <div class="gpu-value" id="gpu-temp">‚Äì ¬∞C</div>
            </div>
        </div>
    </header>

    <div class="mode-selector">
        
        <div class="mode-card active-mode" data-mode="image" id="mode-image-card">
            <span class="mode-icon">üñºÔ∏è</span>
            Image
        </div>

        <div class="mode-card" data-mode="poster" id="mode-poster-card">
            <span class="mode-icon">‚≠ê</span>
            Poster / Affiche
        </div>
    </div>

    <div class="main-content">
        
        <div class="sidebar">
            
            <div class="workflow-info-card">
                <h3 id="workflow-name">Image Workflow</h3>
                <p id="workflow-description">Default image generation workflow.</p>
                <div class="workflow-details">
                    <span title="Model Name">Model: <strong id="meta-model">‚Äì</strong></span>
                    <span title="Resolution">Res: <strong id="meta-resolution">‚Äì</strong></span>
                </div>
            </div>

            <form id="generation-form">
                
                <div class="section">
                    <label for="steps">√âtapes de g√©n√©ration</label>
                    <input type="range" id="steps" name="steps" min="10" max="60" value="30" class="ui-input slider">
                    <p class="slider-value" id="steps-value">30</p>
                </div>

                <div class="section">
                    <label for="cfg_scale">√âchelle CFG</label>
                    <input type="range" id="cfg_scale" name="cfg_scale" min="1.0" max="15.0" step="0.5" value="7.0" class="ui-input slider">
                    <p class="slider-value" id="cfg_scale-value">7.0</p>
                </div>

                <div class="section">
                    <label for="seed">Graine Al√©atoire (Seed)</label>
                    <input type="number" id="seed" name="seed" value="-1" placeholder="Laissez -1 pour al√©atoire" class="ui-input number-input">
                </div>

                <div id="affiche-menu-wrapper" style="display:none;">
                    
                    <div class="section">
                        <label for="poster-style">Style</label>
                        <select id="poster-style" name="poster-style" class="ui-input select">
                            <option value="cinematic">Cin√©matique</option>
                            <option value="minimalist">Minimaliste</option>
                            <option value="vintage">Vintage</option>
                        </select>
                    </div>
                    
                    <div class="section">
                        <label for="poster-title">Titre du Poster</label>
                        <input type="text" id="poster-title" name="poster-title" placeholder="Titre principal" class="ui-input text-input">
                    </div>
                    
                    <div class="section">
                        <label for="poster-subtitle">Sous-titre</label>
                        <input type="text" id="poster-subtitle" name="poster-subtitle" placeholder="Texte additionnel" class="ui-input text-input">
                    </div>
                    
                    <div class="section">
                        <button type="button" id="affiche-random-btn" class="btn-secondary" style="width: 100%;">
                            üé≤ G√©n√©rer le Prompt Al√©atoire
                        </button>
                    </div>
                </div> 

                <div class="section" style="margin-top: 25px;">
                    
                    <div id="generate-button-wrapper">
                        <button id="generate-button" class="btn-primary" type="submit" style="width: 100%; font-size: 1.1em;">
                            üñºÔ∏è G√©n√©rer l'Image
                        </button>
                    </div>

                    <div id="affiche-generate-button-wrapper" style="display:none;">
                        <button id="affiche-generate-button" class="btn-primary" type="submit" style="width: 100%; font-size: 1.1em;">
                            ‚≠ê G√©n√©rer le Poster
                        </button>
                    </div>
                </div>
                </form>
            </div>

        <div class="content-area">
            
            <div class="results-wrapper">
                
                <div class="loading-bar-wrapper" id="loading-bar-wrapper" style="display: none;">
                    <div class="loading-bar-inner" id="loading-bar-inner"></div>
                </div>
                
                <div class="image-preview" id="image-preview">
                    <img src="placeholder.png" alt="Generated Image" id="generated-image" style="width: 100%; height: 100%; object-fit: cover;">
                    <div class="overlay">
                        <button id="download-btn" class="btn-overlay" style="display: none;">T√©l√©charger</button>
                        <button id="fullscreen-btn" class="btn-overlay" style="display: none;">Plein √©cran</button>
                    </div>
                </div>
                
                <div class="metadata-bar">
                    <span title="Image Size">Res: <strong id="meta-resolution-display">‚Äì</strong></span>
                    <span title="Steps">Steps: <strong id="meta-steps">‚Äì</strong></span>
                    <span title="CFG Scale">CFG: <strong id="meta-cfg">‚Äì</strong></span>
                    <span title="Sampler">Sampler: <strong id="meta-sampler">‚Äì</strong></span>
                </div>
            </div>
            
            <div class="section" id="prompt-section" title="The text describing the image you want to generate. Be as precise as possible;">
                <label for="prompt">Prompt</label>
                <textarea id="prompt" name="prompt" placeholder="Describe the image to generate precisely‚Ä¶" class="ui-input textarea"></textarea>
            </div>
            
            <div id="error-box" class="error-text" style="display:none;"></div>
        </div>
    </div>
</div>

<div id="image-modal" class="modal">
    <div class="modal-content">
        <span class="modal-close-btn">&times;</span>
        <img id="modal-image" src="" alt="Full size image" />
        <a id="modal-download-link" href="#" download class="btn-secondary" style="margin-top: 20px;">
            T√©l√©charger (Nom du fichier)
        </a>
    </div>
</div>

<div id="workflow-popover" class="workflow-popover">
    <div class="popover-content">
        <h4 id="popover-title">Workflow Name</h4>
        <div class="workflow-image-wrapper">
            <img id="popover-image" src="" alt="Workflow Preview">
        </div>
        <p id="popover-description">Model description...</p>
        <span class="popover-tip"></span>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>
