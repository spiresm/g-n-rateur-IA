import randomData from '/public/random_affiche_data.json';

// Fonction utilitaire pour choisir un Ã©lÃ©ment alÃ©atoire
const randomChoice = <T,>(arr: T[]): T => {
  return arr[Math.floor(Math.random() * arr.length)];
};

// GÃ©nÃ©rer une affiche alÃ©atoire
const generateRandomPoster = () => {
  const randomTitle = randomChoice(randomData.titres);
  const randomSubtitle = randomChoice(randomData.sous_titres);
  const randomTheme = randomChoice(randomData.themes);
  const randomAmbiance = randomChoice(randomData.ambiances);
  const randomPersonnage = randomChoice(randomData.personnages);
  const randomEnvironnement = randomChoice(randomData.environnements);
  const randomAction = randomChoice(randomData.actions);
  const randomPalette = randomChoice(randomData.palettes);
  const randomTitleStyle = randomChoice(randomData.styles_titre);
  const randomDetails = randomChoice(randomData.details);

  // Mettre Ã  jour tous les Ã©tats
  setTitle(randomTitle);
  setSubtitle(randomSubtitle);
  setCustomOccasion(randomTheme);
  setCustomAmbiance(randomAmbiance);
  setCharacterDescription(randomPersonnage);
  setEnvironmentDescription(randomEnvironnement);
  setActionDescription(randomAction);
  setAdditionalDetails(randomDetails);
  setCustomPalette(randomPalette);
  setTitleStyle(randomTitleStyle);

  // GÃ©nÃ©rer automatiquement le prompt
  setTimeout(() => {
    handleGeneratePrompt();
  }, 100);
};
```

**Bouton ajoutÃ© (en haut du formulaire) :**

```tsx
<div className="bg-purple-900/20 border border-purple-700 rounded-lg p-4 mb-6">
  <button
    onClick={generateRandomPoster}
    className="w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2"
    disabled={isGenerating}
  >
    <Sparkles className="w-4 h-4" />
    <span className="text-sm">ğŸ² GÃ©nÃ©rer une affiche alÃ©atoire</span>
  </button>
</div>
